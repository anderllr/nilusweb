{% load static widget_tweaks %}
{% if success %}
   <script>
	   close_modal=true;
	   id_conta = {{  form.instance.pk  }};
	   conta = '{{ form.instance.descricao }}';
   </script>
{% else %}
<div class="block">
    <div class="block-header ribbon ribbon-success ribbon-left">
        <h3 class="block-title antes_insert titulo_form">Nova Conta</h3>
        <div class="block-options antes_insert">
            <button type="button" class="btn-block-option cancel_form">
                <i class="fa fa-close"></i>
            </button>
        </div>
    </div>
    <form method="post" class="form_conta" id="form_create">
             {% csrf_token %}
                {% for error in form.non_field_errors %}
                <div class="alert-danger alert">
                {{ error }}
                </div>
                {% endfor %}
             <div class="block-contentt">
                    <div class="form-group row">
                        <div class="col-md-8">
                            <div class="form-material floating input-group">
                                {% render_field  form.descricao class='form-control' %}
                                <label for="{{  form.descricao.id }}">Descrição</label>
                            </div>
                                {% for error in form.descricao.errors %}
                                <div class="alert alert-danger alert-dismissable">{{ error }}</div>
                                {% endfor %}

                        </div>
                        <div class="col-md-12">
                            <label class="css-control css-control-sm css-control-primary css-switch">
                                {% render_field form.conta_bancaria type="checkbox" class='css-control-input' %}
                                <span class="css-control-indicator"></span> Conta Bancária
                            </label>
                        </div>
                    </div>
                    <div class="form-group row">
                       <div class="col-md-4">
                            <div class="form-material floating conta_bancaria ">
                                {% render_field  form.agencia class='form-control' %}
                                <label for="{{  form.agencia.id }}">Agência</label>
                                {% for error in form.razao.errors %}
                                <div class="alert alert-danger alert-dismissable">
                                    <p class="mb-0">{{ error }}</p>
                                </div>
                                {% endfor %}
                            </div>
                       </div>
                       <div class="col-md-4">
                           <div class="form-material floating conta_bancaria">
                               {% render_field  form.conta class='form-control' %}
                               <label for="{{  form.conta.id }}">Conta</label>
                               {% for error in form.conta.errors %}
                               <div class="alert alert-danger alert-dismissable">
                                   <p class="mb-0">{{ error }}</p>
                               </div>
                               {% endfor %}
                           </div>
                        </div>
                        <div class="conta_bancaria col-md-12">
                            <label class="css-control css-control-sm css-control-primary css-switch">
                                {% render_field form.usa_limite type="checkbox" class='css-control-input' %}
                                <span class="css-control-indicator"></span> Usa Limite
                            </label>

                        </div>
                    </div>
                    <div class="form-group row">
                       <div class="col-md-4">
                            <div class="form-material floating vlr_limite">
                                {% render_field  form.vlr_limite_text class='form-control money2' %}
                                <label for="{{  form.vlt_limite.id }}">Valor Limite</label>
                                {% for error in form.vlr_limite_text.errors %}
                                <div class="alert alert-danger alert-dismissable">
                                    <p class="mb-0">{{ error }}</p>
                                </div>
                                {% endfor %}
                                <br>
                            </div>
                       </div>
                        <br>
                       <div class="col-md-12">
                         <h7 class="block-title"> Utilizar conta como:</h7>
                         <br>
                       </div>
                        <div class="col-md-12">
                             <label class="css-control css-control-sm css-control-primary css-switch">
                                {% render_field form.conta_pagamento type="checkbox" class='css-control-input' %}
                                <span class="css-control-indicator"></span> Conta de Pagamento
                            </label>
                        </div>
                        <div class="col-md-12">
                                <label class="css-control css-control-sm css-control-primary css-switch">
                                    {% render_field form.conta_recebimento type="checkbox" class='css-control-input' %}
                                    <span class="css-control-indicator"></span> Conta de Recebimento
                                </label>
                         </div>
                          <br>
                          <br>
                         <div class="col-md-12">
                                <button type="submit" class="btn btn-alt-primary">Salvar</button>
                                <button type="button"  class="btn btn-alt-secondary  cancel_form">Cancelar</button>
                         </div>
                    </div>

           </div>


    </form>


</div>
{% endif %}